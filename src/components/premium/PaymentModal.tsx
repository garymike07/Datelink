{"data":"aW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAicmVhY3QiOwppbXBvcnQgeyB1c2VBY3Rpb24gfSBmcm9tICJjb252ZXgvcmVhY3QiOwppbXBvcnQgeyBhcGkgfSBmcm9tICIuLi8uLi8uLi9jb252ZXgvX2dlbmVyYXRlZC9hcGkiOwppbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0Rlc2NyaXB0aW9uLCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2RpYWxvZyI7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gIkAvY29tcG9uZW50cy91aS9idXR0b24iOwppbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCB9IGZyb20gIkAvY29tcG9uZW50cy91aS9jYXJkIjsKaW1wb3J0IHsgUmFkaW9Hcm91cCwgUmFkaW9Hcm91cEl0ZW0gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvcmFkaW8tZ3JvdXAiOwppbXBvcnQgeyBMYWJlbCB9IGZyb20gIkAvY29tcG9uZW50cy91aS9sYWJlbCI7CmltcG9ydCB7IElucHV0IH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2lucHV0IjsKaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYmFkZ2UiOwppbXBvcnQgeyBTcGFya2xlcyB9IGZyb20gImx1Y2lkZS1yZWFjdCI7CmltcG9ydCB7IHRvYXN0IH0gZnJvbSAic29ubmVyIjsKaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICJyZWFjdC1yb3V0ZXItZG9tIjsKCnR5cGUgUGF5bWVudE1ldGhvZCA9ICJtcGVzYSI7CmltcG9ydCB7CiAgUFJFTUlVTV9TVUJTQ1JJUFRJT05fUExBTlMsCiAgUFJFTUlVTV9BRERPTl9QTEFOUywKICB0eXBlIFByZW1pdW1QbGFuRHVyYXRpb24sCiAgdHlwZSBQcmVtaXVtU3Vic2NyaXB0aW9uRHVyYXRpb24sCiAgZ2V0UHJlbWl1bUFtb3VudEtlcywKfSBmcm9tICJAL2xpYi9wcmljaW5nIjsKCnR5cGUgUGxhbkR1cmF0aW9uID0gUHJlbWl1bVBsYW5EdXJhdGlvbjsKCnR5cGUgQWxsb3dlZER1cmF0aW9ucyA9IFByZW1pdW1TdWJzY3JpcHRpb25EdXJhdGlvbjsgLy8gZGVmYXVsdCBtb2RhbCBiZWhhdmlvcjogc3Vic2NyaXB0aW9uIHVwZ3JhZGUgb25seQoKaW50ZXJmYWNlIFBheW1lbnRNb2RhbFByb3BzIHsKICB1c2VySWQ6IHN0cmluZzsKICBpc09wZW46IGJvb2xlYW47CiAgb25DbG9zZTogKCkgPT4gdm9pZDsKICBtb2RlPzogInN1YnNjcmlwdGlvbiIgfCAiYWRkb24iOwogIGRlZmF1bHRQbGFuPzogInByZW1pdW0iOwogIGRlZmF1bHREdXJhdGlvbj86IFBsYW5EdXJhdGlvbjsKfQoKZXhwb3J0IGZ1bmN0aW9uIFBheW1lbnRNb2RhbCh7CiAgdXNlcklkLAogIGlzT3BlbiwKICBvbkNsb3NlLAogIG1vZGUgPSAic3Vic2NyaXB0aW9uIiwKICBkZWZhdWx0UGxhbiA9ICJwcmVtaXVtIiwKICBkZWZhdWx0RHVyYXRpb24gPSAiMV93ZWVrIiwKfTogUGF5bWVudE1vZGFsUHJvcHMpIHsKICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7IC8vIHJldGFpbmVkIGZvciBvdGhlciBmbG93czsgZG8gbm90IGF1dG8tcmVkaXJlY3Qgb24gcGF5bWVudAoKICBjb25zdCBpbml0aWF0ZVBheW1lbnQgPSB1c2VBY3Rpb24oYXBpLnBheW1lbnRzLmluaXRpYXRlUGF5bWVudCk7CiAgY29uc3QgcmVmcmVzaFBheW1lbnRTdGF0dXMgPSB1c2VBY3Rpb24oYXBpLnBheW1lbnRzU3RhdHVzLnJlZnJlc2hQYXltZW50U3RhdHVzKTsKCiAgY29uc3QgW3BsYW5dID0gdXNlU3RhdGU8InByZW1pdW0iPihkZWZhdWx0UGxhbik7CiAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZTxQbGFuRHVyYXRpb24+KGRlZmF1bHREdXJhdGlvbik7CgogIGNvbnN0IGFsbG93ZWRQbGFucyA9IG1vZGUgPT09ICJhZGRvbiIgPyBQUkVNSVVNX0FERE9OX1BMQU5TIDogUFJFTUlVTV9TVUJTQ1JJUFRJT05fUExBTlM7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBzZXREdXJhdGlvbihkZWZhdWx0RHVyYXRpb24pOwogIH0sIFtkZWZhdWx0RHVyYXRpb24sIG1vZGVdKTsKICBjb25zdCBbbGFzdENoZWNrb3V0VXJsLCBzZXRMYXN0Q2hlY2tvdXRVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW2xhc3RQYXltZW50SWQsIHNldExhc3RQYXltZW50SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7CiAgY29uc3QgW3ZlcmlmaWNhdGlvblN0YXR1cywgc2V0VmVyaWZpY2F0aW9uU3RhdHVzXSA9IHVzZVN0YXRlPCJpZGxlIiB8ICJwZW5kaW5nIiB8ICJjb21wbGV0ZWQiIHwgImZhaWxlZCI+KCJpZGxlIik7CiAgY29uc3QgW2V4cGlyZXNJbk1zLCBzZXRFeHBpcmVzSW5Nc10gPSB1c2VTdGF0ZTxudW1iZXI+KDApOwogIGNvbnN0IHBvbGxUaW1lciA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTsKCiAgY29uc3QgW21ldGhvZF0gPSB1c2VTdGF0ZTxQYXltZW50TWV0aG9kPigibXBlc2EiKTsKICBjb25zdCBbcGhvbmVOdW1iZXIsIHNldFBob25lTnVtYmVyXSA9IHVzZVN0YXRlKCIiKTsKICBjb25zdCBbaXNTdWJtaXR0aW5nLCBzZXRJc1N1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpOwoKICBjb25zdCBhbW91bnQgPSB1c2VNZW1vKCgpID0+IGdldFByZW1pdW1BbW91bnRLZXMoZHVyYXRpb24pLCBbZHVyYXRpb25dKTsKCiAgY29uc3QgaGFuZGxlUGF5ID0gYXN5bmMgKCkgPT4gewogICAgaWYgKCF1c2VySWQpIHJldHVybjsKICAgIGlmIChwaG9uZU51bWJlci50cmltKCkubGVuZ3RoIDwgOSkgewogICAgICB0b2FzdC5lcnJvcigiRW50ZXIgYSB2YWxpZCBNLVBlc2EgcGhvbmUgbnVtYmVyIik7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7CiAgICB0cnkgewogICAgICBjb25zdCB7IHBheW1lbnRJZCB9ID0gYXdhaXQgaW5pdGlhdGVQYXltZW50KHsKICAgICAgICB1c2VySWQ6IHVzZXJJZCBhcyBhbnksCiAgICAgICAgYW1vdW50LAogICAgICAgIGN1cnJlbmN5OiAiS0VTIiwKICAgICAgICBwYXltZW50TWV0aG9kOiBtZXRob2QsCiAgICAgICAgcHJvZHVjdFR5cGU6IG1vZGUgPT09ICJhZGRvbiIgPyAicHJlbWl1bV9hZGRvbiIgOiAic3Vic2NyaXB0aW9uIiwKICAgICAgICBwbGFuLAogICAgICAgIHBsYW5EdXJhdGlvbjogZHVyYXRpb24sCiAgICAgICAgbWV0YWRhdGE6IHsKICAgICAgICAgIC8vIEFsbG93IHVzZXJzIHRvIGlucHV0IDA3Li4sIDI1NC4uLCBvciArMjU0Li4KICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlci50cmltKCksCiAgICAgICAgICAuLi4obW9kZSA9PT0gImFkZG9uIiA/IHsgYWRkb25UeXBlOiAicHJlbWl1bV9wbHVzIiB9IDoge30pLAogICAgICAgIH0sCiAgICAgIH0pOwoKICAgICAgc2V0TGFzdFBheW1lbnRJZChwYXltZW50SWQpOwogICAgICBzZXRMYXN0Q2hlY2tvdXRVcmwobnVsbCk7CgogICAgICBzZXRWZXJpZmljYXRpb25TdGF0dXMoInBlbmRpbmciKTsKICAgICAgdG9hc3QubWVzc2FnZSgiU1RLIHB1c2ggc2VudCB0byB5b3VyIHBob25lLiBFbnRlciB5b3VyIE0tUGVzYSBQSU4gdG8gY29tcGxldGUgcGF5bWVudC4gV2UnbGwgY29uZmlybSB3aXRoaW4gMyBtaW51dGVzLiIpOwoKICAgICAgLy8gU3RhcnQgcG9sbGluZyBmb3Igc2VydmVyLXNpZGUgdmVyaWZpY2F0aW9uICh1cCB0byAzIG1pbnV0ZXMpLgogICAgICBjb25zdCB0aWNrID0gYXN5bmMgKCkgPT4gewogICAgICAgIGlmICghcGF5bWVudElkKSByZXR1cm47CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlZnJlc2hQYXltZW50U3RhdHVzKHsgcGF5bWVudElkOiBwYXltZW50SWQgYXMgYW55LCB1c2VySWQ6IHVzZXJJZCBhcyBhbnkgfSk7CiAgICAgICAgICBpZiAodHlwZW9mIHJlcy5leHBpcmVzSW5NcyA9PT0gIm51bWJlciIpIHNldEV4cGlyZXNJbk1zKHJlcy5leHBpcmVzSW5Ncyk7CgogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09ICJjb21wbGV0ZWQiKSB7CiAgICAgICAgICAgIHNldFZlcmlmaWNhdGlvblN0YXR1cygiY29tcGxldGVkIik7CiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoIlBheW1lbnQgc3VjY2Vzc2Z1bC4gUHJlbWl1bSBhY3RpdmF0ZWQhIik7CiAgICAgICAgICAgIG9uQ2xvc2UoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09ICJmYWlsZWQiKSB7CiAgICAgICAgICAgIHNldFZlcmlmaWNhdGlvblN0YXR1cygiZmFpbGVkIik7CiAgICAgICAgICAgIHRvYXN0LmVycm9yKCJUcmFuc2FjdGlvbiBmYWlsZWQgb3IgdGltZWQgb3V0LiIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7CiAgICAgICAgICAvLyBLZWVwIHBvbGxpbmc7IHRyYW5zaWVudCBlcnJvcnMgc2hvdWxkbid0IGJyZWFrIHRoZSBmbG93LgogICAgICAgIH0KCiAgICAgICAgcG9sbFRpbWVyLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCh0aWNrLCAzMDAwKTsKICAgICAgfTsKCiAgICAgIHBvbGxUaW1lci5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQodGljaywgMjAwMCk7CgogICAgfSBjYXRjaCAoZTogYW55KSB7CiAgICAgIHRvYXN0LmVycm9yKGU/Lm1lc3NhZ2UgPz8gIlBheW1lbnQgZmFpbGVkIik7CiAgICB9IGZpbmFsbHkgewogICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpOwogICAgfQogIH07CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICByZXR1cm4gKCkgPT4gewogICAgICBpZiAocG9sbFRpbWVyLmN1cnJlbnQpIHdpbmRvdy5jbGVhclRpbWVvdXQocG9sbFRpbWVyLmN1cnJlbnQpOwogICAgfTsKICB9LCBbXSk7CgogIHJldHVybiAoCiAgICA8RGlhbG9nIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtvbkNsb3NlfT4KICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPSJzbTptYXgtdy14bCBtYXgtaC1bOTB2aF0gZmxleCBmbGV4LWNvbCI+CiAgICAgICAgPERpYWxvZ0hlYWRlciBjbGFzc05hbWU9ImZsZXgtc2hyaW5rLTAiPgogICAgICAgICAgPERpYWxvZ1RpdGxlPkNvbXBsZXRlIHlvdXIgcHVyY2hhc2U8L0RpYWxvZ1RpdGxlPgogICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPgogICAgICAgICAgICBTZWxlY3QgeW91ciBwbGFuIGR1cmF0aW9uIGFuZCBwYXltZW50IG1ldGhvZAogICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj4KICAgICAgICA8L0RpYWxvZ0hlYWRlcj4KCiAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktNCBvdmVyZmxvdy15LWF1dG8gZmxleC0xIHByLTIgLW1yLTIiPgogICAgICAgICAgPENhcmQ+CiAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9InAtNCBzcGFjZS15LTQiPgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4iPgogICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJmb250LXNlbWlib2xkIj5TZWxlY3QgcGxhbjwvcD4KICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+Q2hvb3NlIGR1cmF0aW9uIGFuZCBwYXltZW50IG1ldGhvZDwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT0iYmctZ3JhZGllbnQtdG8tciBmcm9tLXllbGxvdy01MDAgdG8tb3JhbmdlLTUwMCB0ZXh0LXdoaXRlIGJvcmRlci0wIj5LRVMge2Ftb3VudC50b0xvY2FsZVN0cmluZygpfTwvQmFkZ2U+CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJyb3VuZGVkLWxnIGJvcmRlciBwLTMgYmctbXV0ZWQvMzAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIj4KICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImJnLXByaW1hcnkvMTAgcC0xLjUgcm91bmRlZCI+CiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT0idy00IGgtNCB0ZXh0LXByaW1hcnkiIC8+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0iPlByZW1pdW08L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCI+VW5saW1pdGVkIGxpa2VzLCBTdXBlciBMaWtlcywgVmlkZW8vQXVkaW8gY2FsbHMsIFNlZSB3aG8gbGlrZXMgeW91PC9wPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0yIj4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC1zbSBmb250LW1lZGl1bSI+UGxhbiBEdXJhdGlvbjwvcD4KICAgICAgICAgICAgICAgIDxSYWRpb0dyb3VwIHZhbHVlPXtkdXJhdGlvbn0gb25WYWx1ZUNoYW5nZT17KHYpID0+IHNldER1cmF0aW9uKHYgYXMgUGxhbkR1cmF0aW9uKX0gY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgICB7YWxsb3dlZFBsYW5zLm1hcCgocCkgPT4gKAogICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtwLmR1cmF0aW9ufSBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiByb3VuZGVkLWxnIGJvcmRlciBwLTMiPgogICAgICAgICAgICAgICAgICAgICAgPFJhZGlvR3JvdXBJdGVtIHZhbHVlPXtwLmR1cmF0aW9ufSBpZD17YGR1ci0ke3AuZHVyYXRpb259YH0gLz4KICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPXtgZHVyLSR7cC5kdXJhdGlvbn1gfSBjbGFzc05hbWU9ImZsZXgtMSBjdXJzb3ItcG9pbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4iPgogICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0iPntwLmxhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5LRVMge3AuYW1vdW50S2VzLnRvTG9jYWxlU3RyaW5nKCl9L3twLnBlcmlvZExhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgIDwvUmFkaW9Hcm91cD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9DYXJkQ29udGVudD4KICAgICAgICAgIDwvQ2FyZD4KCiAgICAgICAgICA8Q2FyZD4KICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0icC00IHNwYWNlLXktNCI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiI+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQiPlBheW1lbnQgbWV0aG9kPC9wPgogICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9Im91dGxpbmUiIGNsYXNzTmFtZT0idGV4dC1ncmVlbi02MDAgYm9yZGVyLWdyZWVuLTYwMCI+CiAgICAgICAgICAgICAgICAgIE0tUGVzYSBPbmx5CiAgICAgICAgICAgICAgICA8L0JhZGdlPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIAogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyByb3VuZGVkLWxnIGJvcmRlciBwLTMgYmctZ3JlZW4tNTAvNTAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHAtMiByb3VuZGVkIj4KICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJmb250LWJvbGQgdGV4dC1zbSI+TTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSI+CiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0iZm9udC1tZWRpdW0iPk0tUGVzYSBQYXltZW50PC9wPgogICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj5TZWN1cmUgJiBJbnN0YW50PC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9Im1wZXNhLXBob25lIj5NLVBlc2EgUGhvbmUgTnVtYmVyPC9MYWJlbD4KICAgICAgICAgICAgICAgIDxJbnB1dAogICAgICAgICAgICAgICAgICBpZD0ibXBlc2EtcGhvbmUiCiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJlLmcuIDA3MTIzNDU2Nzggb3IgMjU0NzEyMzQ1Njc4IgogICAgICAgICAgICAgICAgICB2YWx1ZT17cGhvbmVOdW1iZXJ9CiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGhvbmVOdW1iZXIoZS50YXJnZXQudmFsdWUpfQogICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICDinJMgWW91IHdpbGwgcmVjZWl2ZSBhbiBTVEsgcHVzaCB0byBjb21wbGV0ZSBwYXltZW50CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICAgICAgICA8L0NhcmQ+CgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggZ2FwLTIgcHQtMiBib3JkZXItdCBtdC00IGZsZXgtc2hyaW5rLTAiPgogICAgICAgICAgICA8QnV0dG9uIHR5cGU9ImJ1dHRvbiIgdmFyaWFudD0ib3V0bGluZSIgY2xhc3NOYW1lPSJ3LWZ1bGwiIG9uQ2xpY2s9e29uQ2xvc2V9IGRpc2FibGVkPXtpc1N1Ym1pdHRpbmd9PgogICAgICAgICAgICAgIENhbmNlbAogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzTmFtZT0idy1mdWxsIGJ0bi1ncmFkaWVudCIgb25DbGljaz17aGFuZGxlUGF5fSBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT4KICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gIlByb2Nlc3NpbmfigKYiIDogIkNvbXBsZXRlIFBheW1lbnQifQogICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIHt2ZXJpZmljYXRpb25TdGF0dXMgPT09ICJwZW5kaW5nIiAmJiBsYXN0UGF5bWVudElkICYmICgKICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMyI+CiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9InRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICAgIFdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbuKApiB7TWF0aC5jZWlsKGV4cGlyZXNJbk1zIC8gMTAwMCl9cyByZW1haW5pbmcKICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgICAgICB0eXBlPSJidXR0b24iCiAgICAgICAgICAgICAgICB2YXJpYW50PSJvdXRsaW5lIgogICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwiCiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgcmVmcmVzaFBheW1lbnRTdGF0dXMoewogICAgICAgICAgICAgICAgICAgICAgcGF5bWVudElkOiBsYXN0UGF5bWVudElkIGFzIGFueSwKICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkIGFzIGFueSwKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcy5leHBpcmVzSW5NcyA9PT0gIm51bWJlciIpIHNldEV4cGlyZXNJbk1zKHJlcy5leHBpcmVzSW5Ncyk7CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAiY29tcGxldGVkIikgewogICAgICAgICAgICAgICAgICAgICAgc2V0VmVyaWZpY2F0aW9uU3RhdHVzKCJjb21wbGV0ZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoIlBheW1lbnQgc3VjY2Vzc2Z1bC4gUHJlbWl1bSBhY3RpdmF0ZWQhIik7CiAgICAgICAgICAgICAgICAgICAgICBvbkNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAiZmFpbGVkIikgewogICAgICAgICAgICAgICAgICAgICAgc2V0VmVyaWZpY2F0aW9uU3RhdHVzKCJmYWlsZWQiKTsKICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKCJUcmFuc2FjdGlvbiBmYWlsZWQgb3IgdGltZWQgb3V0LiIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5tZXNzYWdlKCJTdGlsbCB3YWl0aW5nIGZvciBjb25maXJtYXRpb27igKYiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGU6IGFueSkgewogICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKGU/Lm1lc3NhZ2UgPz8gIkNvdWxkIG5vdCByZWZyZXNoIHBheW1lbnQgc3RhdHVzIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgQ2hlY2sgcGF5bWVudCBzdGF0dXMKICAgICAgICAgICAgICA8L0J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgogICAgICA8L0RpYWxvZ0NvbnRlbnQ+CiAgICA8L0RpYWxvZz4KICApOwp9Cg=="}