{"data":"aW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICJyZWFjdCI7CmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAiY29udmV4L3JlYWN0IjsKaW1wb3J0IHsgYXBpIH0gZnJvbSAiLi4vLi4vLi4vY29udmV4L19nZW5lcmF0ZWQvYXBpIjsKaW1wb3J0IHsgSWQgfSBmcm9tICIuLi8uLi8uLi9jb252ZXgvX2dlbmVyYXRlZC9kYXRhTW9kZWwiOwppbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gIkAvY29tcG9uZW50cy91aS9hdmF0YXIiOwppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvYnV0dG9uIjsKaW1wb3J0IHsgUGx1cyB9IGZyb20gImx1Y2lkZS1yZWFjdCI7CmltcG9ydCB7IFN0YXR1c1ZpZXdlciB9IGZyb20gIi4vU3RhdHVzVmlld2VyIjsKaW1wb3J0IHsgQ3JlYXRlU3RhdHVzRGlhbG9nIH0gZnJvbSAiLi9DcmVhdGVTdGF0dXNEaWFsb2ciOwppbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAiQC9jb250ZXh0cy9BdXRoQ29udGV4dCI7CmltcG9ydCB7IFNjcm9sbEFyZWEsIFNjcm9sbEJhciB9IGZyb20gIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYSI7CgpleHBvcnQgZnVuY3Rpb24gU3RhdHVzTGlzdCgpIHsKICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTsKICBjb25zdCBbdmlld2VyT3Blbiwgc2V0Vmlld2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW3NlbGVjdGVkVXNlcklkLCBzZXRTZWxlY3RlZFVzZXJJZF0gPSB1c2VTdGF0ZTxJZDwidXNlcnMiPiB8IG51bGw+KG51bGwpOwogIGNvbnN0IFtjcmVhdGVEaWFsb2dPcGVuLCBzZXRDcmVhdGVEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgY29uc3QgbWF0Y2hlc1N0YXR1c2VzID0gdXNlUXVlcnkoCiAgICBhcGkuc3RhdHVzUG9zdHMuZ2V0TWF0Y2hlc1N0YXR1c1Bvc3RzLAogICAgdXNlcj8uX2lkID8geyB1c2VySWQ6IHVzZXIuX2lkIH0gOiAic2tpcCIKICApOwoKICBjb25zdCBteVN0YXR1c2VzID0gdXNlUXVlcnkoCiAgICBhcGkuc3RhdHVzUG9zdHMuZ2V0TXlTdGF0dXNQb3N0cywKICAgIHVzZXI/Ll9pZCA/IHsgdXNlcklkOiB1c2VyLl9pZCB9IDogInNraXAiCiAgKTsKCiAgY29uc3QgaGFuZGxlU3RhdHVzQ2xpY2sgPSAodXNlcklkOiBJZDwidXNlcnMiPikgPT4gewogICAgc2V0U2VsZWN0ZWRVc2VySWQodXNlcklkKTsKICAgIHNldFZpZXdlck9wZW4odHJ1ZSk7CiAgfTsKCiAgY29uc3QgaGFuZGxlTXlTdGF0dXNDbGljayA9ICgpID0+IHsKICAgIGlmIChteVN0YXR1c2VzICYmIG15U3RhdHVzZXMubGVuZ3RoID4gMCkgewogICAgICBzZXRTZWxlY3RlZFVzZXJJZCh1c2VyIS5faWQpOwogICAgICBzZXRWaWV3ZXJPcGVuKHRydWUpOwogICAgfSBlbHNlIHsKICAgICAgc2V0Q3JlYXRlRGlhbG9nT3Blbih0cnVlKTsKICAgIH0KICB9OwoKICBpZiAoIW1hdGNoZXNTdGF0dXNlcykgewogICAgcmV0dXJuIG51bGw7CiAgfQoKICByZXR1cm4gKAogICAgPD4KICAgICAgPGRpdiBjbGFzc05hbWU9Im1iLTYiPgogICAgICAgIDxoMiBjbGFzc05hbWU9InRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0zIj5TdGF0dXM8L2gyPgogICAgICAgIDxTY3JvbGxBcmVhIGNsYXNzTmFtZT0idy1mdWxsIHdoaXRlc3BhY2Utbm93cmFwIj4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGdhcC00IHBiLTQiPgogICAgICAgICAgICB7LyogTXkgU3RhdHVzICovfQogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWluLXctZml0Ij4KICAgICAgICAgICAgICA8YnV0dG9uCiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNeVN0YXR1c0NsaWNrfQogICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJyZWxhdGl2ZSBncm91cCIKICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICA8ZGl2CiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIHJvdW5kZWQtZnVsbCBwLTEgJHsKICAgICAgICAgICAgICAgICAgICBteVN0YXR1c2VzICYmIG15U3RhdHVzZXMubGVuZ3RoID4gMAogICAgICAgICAgICAgICAgICAgICAgPyAiYmctZ3JhZGllbnQtdG8tdHIgZnJvbS15ZWxsb3ctNDAwIHZpYS1waW5rLTUwMCB0by1wdXJwbGUtNTAwIgogICAgICAgICAgICAgICAgICAgICAgOiAiYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCIKICAgICAgICAgICAgICAgICAgfWB9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPSJ3LTE2IGgtMTYgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGRhcms6Ym9yZGVyLWdyYXktOTAwIj4KICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2Ugc3JjPXt1c2VyPy5waG90b30gLz4KICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e3VzZXI/Lm5hbWU/LlswXSB8fCAiTSJ9PC9BdmF0YXJGYWxsYmFjaz4KICAgICAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgICAgIHsoIW15U3RhdHVzZXMgfHwgbXlTdGF0dXNlcy5sZW5ndGggPT09IDApICYmICgKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iYWJzb2x1dGUgYm90dG9tLTAgcmlnaHQtMCB3LTUgaC01IGJnLXByaW1hcnkgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJvcmRlci0yIGJvcmRlci13aGl0ZSBkYXJrOmJvcmRlci1ncmF5LTkwMCI+CiAgICAgICAgICAgICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9InctMyBoLTMgdGV4dC13aGl0ZSIgLz4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWNlbnRlciBtYXgtdy1bNzBweF0gdHJ1bmNhdGUiPgogICAgICAgICAgICAgICAge215U3RhdHVzZXMgJiYgbXlTdGF0dXNlcy5sZW5ndGggPiAwID8gIk15IFN0YXR1cyIgOiAiQWRkIFN0YXR1cyJ9CiAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIHsvKiBNYXRjaGVzJyBTdGF0dXNlcyAqL30KICAgICAgICAgICAge21hdGNoZXNTdGF0dXNlcy5tYXAoKHN0YXR1cykgPT4gKAogICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgIGtleT17c3RhdHVzLnVzZXJJZH0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0iZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWluLXctZml0IgogICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIDxidXR0b24KICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2xpY2soc3RhdHVzLnVzZXJJZCl9CiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0icmVsYXRpdmUgZ3JvdXAiCiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgIDxkaXYKICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSByb3VuZGVkLWZ1bGwgcC0xICR7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuaGFzVW52aWV3ZWQKICAgICAgICAgICAgICAgICAgICAgICAgPyAiYmctZ3JhZGllbnQtdG8tdHIgZnJvbS15ZWxsb3ctNDAwIHZpYS1waW5rLTUwMCB0by1wdXJwbGUtNTAwIgogICAgICAgICAgICAgICAgICAgICAgICA6ICJiZy1ncmF5LTMwMCBkYXJrOmJnLWdyYXktNjAwIgogICAgICAgICAgICAgICAgICAgIH1gfQogICAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9InctMTYgaC0xNiBib3JkZXItMiBib3JkZXItd2hpdGUgZGFyazpib3JkZXItZ3JheS05MDAiPgogICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17c3RhdHVzLnVzZXJQaG90b30gLz4KICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz57c3RhdHVzLnVzZXJOYW1lWzBdfTwvQXZhdGFyRmFsbGJhY2s+CiAgICAgICAgICAgICAgICAgICAgPC9BdmF0YXI+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1jZW50ZXIgbWF4LXctWzcwcHhdIHRydW5jYXRlIj4KICAgICAgICAgICAgICAgICAge3N0YXR1cy51c2VyTmFtZX0KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxTY3JvbGxCYXIgb3JpZW50YXRpb249Imhvcml6b250YWwiIC8+CiAgICAgICAgPC9TY3JvbGxBcmVhPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBTdGF0dXMgVmlld2VyICovfQogICAgICB7c2VsZWN0ZWRVc2VySWQgJiYgKAogICAgICAgIDxTdGF0dXNWaWV3ZXIKICAgICAgICAgIG9wZW49e3ZpZXdlck9wZW59CiAgICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldFZpZXdlck9wZW59CiAgICAgICAgICB0YXJnZXRVc2VySWQ9e3NlbGVjdGVkVXNlcklkfQogICAgICAgIC8+CiAgICAgICl9CgogICAgICB7LyogQ3JlYXRlIFN0YXR1cyBEaWFsb2cgKi99CiAgICAgIDxDcmVhdGVTdGF0dXNEaWFsb2cKICAgICAgICBvcGVuPXtjcmVhdGVEaWFsb2dPcGVufQogICAgICAgIG9uT3BlbkNoYW5nZT17c2V0Q3JlYXRlRGlhbG9nT3Blbn0KICAgICAgLz4KICAgIDwvPgogICk7Cn0K"}