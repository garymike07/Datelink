{"data":"aW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICJjb252ZXgvcmVhY3QiOwppbXBvcnQgeyBhcGkgfSBmcm9tICIuLi8uLi8uLi9jb252ZXgvX2dlbmVyYXRlZC9hcGkiOwppbXBvcnQgdHlwZSB7IElkIH0gZnJvbSAiLi4vLi4vLi4vY29udmV4L19nZW5lcmF0ZWQvZGF0YU1vZGVsIjsKaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAiQC9jb21wb25lbnRzL3VpL2NhcmQiOwppbXBvcnQgeyBQcm9ncmVzcyB9IGZyb20gIkAvY29tcG9uZW50cy91aS9wcm9ncmVzcyI7CmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gIkAvY29tcG9uZW50cy91aS9idXR0b24iOwppbXBvcnQgeyBDaGVja0NpcmNsZTIsIENpcmNsZSwgQ2hldnJvblJpZ2h0IH0gZnJvbSAibHVjaWRlLXJlYWN0IjsKaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICJyZWFjdCI7CmltcG9ydCB7IExpbmsgfSBmcm9tICJyZWFjdC1yb3V0ZXItZG9tIjsKCmludGVyZmFjZSBQcm9maWxlQ29tcGxldGlvblNjb3JlUHJvcHMgewogIHVzZXJJZDogSWQ8InVzZXJzIj47CiAgdmFyaWFudD86ICJjYXJkIiB8ICJjb21wYWN0IiB8ICJpbmxpbmUiOwp9CgpleHBvcnQgZnVuY3Rpb24gUHJvZmlsZUNvbXBsZXRpb25TY29yZSh7IHVzZXJJZCwgdmFyaWFudCA9ICJjYXJkIiB9OiBQcm9maWxlQ29tcGxldGlvblNjb3JlUHJvcHMpIHsKICBjb25zdCBbc2hvd0RldGFpbHMsIHNldFNob3dEZXRhaWxzXSA9IHVzZVN0YXRlKGZhbHNlKTsKICBjb25zdCBwcm9maWxlVGllciA9IHVzZVF1ZXJ5KGFwaS5wcm9maWxlU2NvcmUuZ2V0UHJvZmlsZVRpZXIsIHsgdXNlcklkIH0pOwoKICBpZiAoIXByb2ZpbGVUaWVyKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIGNvbnN0IHsgcGVyY2VudGFnZSwgdG90YWxTY29yZSwgbWF4U2NvcmUsIGNvbXBsZXRlZEl0ZW1zLCBtaXNzaW5nSXRlbXMsIHRpZXIsIHRpZXJDb2xvciwgdGllck1lc3NhZ2UgfSA9IHByb2ZpbGVUaWVyOwoKICAvLyBDb21wYWN0IGlubGluZSB2YXJpYW50IGZvciBzbWFsbCBzcGFjZXMKICBpZiAodmFyaWFudCA9PT0gImlubGluZSIpIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgtMSI+CiAgICAgICAgICA8UHJvZ3Jlc3MgdmFsdWU9e3BlcmNlbnRhZ2V9IGNsYXNzTmFtZT0iaC0yIiAvPgogICAgICAgIDwvZGl2PgogICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1zZW1pYm9sZCAke3RpZXJDb2xvcn1gfT57cGVyY2VudGFnZX0lPC9zcGFuPgogICAgICA8L2Rpdj4KICAgICk7CiAgfQoKICAvLyBDb21wYWN0IHZhcmlhbnQgZm9yIGRhc2hib2FyZCB3aWRnZXRzCiAgaWYgKHZhcmlhbnQgPT09ICJjb21wYWN0IikgewogICAgcmV0dXJuICgKICAgICAgPENhcmQgY2xhc3NOYW1lPSJib3JkZXItbC00IiBzdHlsZT17eyBib3JkZXJMZWZ0Q29sb3I6IGdldENvbG9yRnJvbVRpZXIodGllcikgfX0+CiAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPSJwYi0zIj4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4iPgogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPSJ0ZXh0LWxnIj5Qcm9maWxlIFN0cmVuZ3RoPC9DYXJkVGl0bGU+CiAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbiBjbGFzc05hbWU9InRleHQteHMgbXQtMSI+e3RpZXJNZXNzYWdlfTwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LTN4bCBmb250LWJvbGQgJHt0aWVyQ29sb3J9YH0+e3BlcmNlbnRhZ2V9JTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9DYXJkSGVhZGVyPgogICAgICAgIDxDYXJkQ29udGVudD4KICAgICAgICAgIDxQcm9ncmVzcyB2YWx1ZT17cGVyY2VudGFnZX0gY2xhc3NOYW1lPSJoLTIgbWItMyIgLz4KICAgICAgICAgIHttaXNzaW5nSXRlbXMubGVuZ3RoID4gMCAmJiAoCiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQiPlF1aWNrIHdpbnM6PC9wPgogICAgICAgICAgICAgIHttaXNzaW5nSXRlbXMuc2xpY2UoMCwgMikubWFwKChpdGVtLCBpZHgpID0+ICgKICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT0idGV4dC14cyBmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yIj4KICAgICAgICAgICAgICAgICAgPENpcmNsZSBjbGFzc05hbWU9InctMyBoLTMgbXQtMC41IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCIgLz4KICAgICAgICAgICAgICAgICAgPHNwYW4+e2l0ZW0uc3VnZ2VzdGlvbn08L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgICB7bWlzc2luZ0l0ZW1zLmxlbmd0aCA+IDIgJiYgKAogICAgICAgICAgICAgICAgPEJ1dHRvbiAKICAgICAgICAgICAgICAgICAgdmFyaWFudD0ibGluayIgCiAgICAgICAgICAgICAgICAgIHNpemU9InNtIiAKICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJoLWF1dG8gcC0wIHRleHQteHMiCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dEZXRhaWxzKCFzaG93RGV0YWlscyl9CiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgIHtzaG93RGV0YWlscyA/ICJTaG93IGxlc3MiIDogYCske21pc3NpbmdJdGVtcy5sZW5ndGggLSAyfSBtb3JlIHN1Z2dlc3Rpb25zYH0KICAgICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICAgICl9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgKX0KICAgICAgICA8L0NhcmRDb250ZW50PgogICAgICA8L0NhcmQ+CiAgICApOwogIH0KCiAgLy8gRnVsbCBjYXJkIHZhcmlhbnQgd2l0aCBhbGwgZGV0YWlscwogIHJldHVybiAoCiAgICA8Q2FyZCBjbGFzc05hbWU9ImJvcmRlci1sLTQiIHN0eWxlPXt7IGJvcmRlckxlZnRDb2xvcjogZ2V0Q29sb3JGcm9tVGllcih0aWVyKSB9fT4KICAgICAgPENhcmRIZWFkZXI+CiAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiI+CiAgICAgICAgICA8ZGl2PgogICAgICAgICAgICA8Q2FyZFRpdGxlPlByb2ZpbGUgQ29tcGxldGlvbjwvQ2FyZFRpdGxlPgogICAgICAgICAgICA8Q2FyZERlc2NyaXB0aW9uIGNsYXNzTmFtZT0ibXQtMSI+e3RpZXJNZXNzYWdlfTwvQ2FyZERlc2NyaXB0aW9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC1yaWdodCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC00eGwgZm9udC1ib2xkICR7dGllckNvbG9yfWB9PntwZXJjZW50YWdlfSU8L2Rpdj4KICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xIj4KICAgICAgICAgICAgICB7dG90YWxTY29yZX0ve21heFNjb3JlfSBwb2ludHMKICAgICAgICAgICAgPC9wPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2FyZEhlYWRlcj4KICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT0ic3BhY2UteS02Ij4KICAgICAgICB7LyogUHJvZ3Jlc3MgQmFyICovfQogICAgICAgIDxkaXY+CiAgICAgICAgICA8UHJvZ3Jlc3MgdmFsdWU9e3BlcmNlbnRhZ2V9IGNsYXNzTmFtZT0iaC0zIiAvPgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9ImZsZXgganVzdGlmeS1iZXR3ZWVuIG10LTIiPgogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIj4KICAgICAgICAgICAgICB7dGllciA9PT0gImluY29tcGxldGUiICYmICJMZXQncyBnZXQgc3RhcnRlZCEifQogICAgICAgICAgICAgIHt0aWVyID09PSAiYmFzaWMiICYmICJHb29kIHN0YXJ0ISJ9CiAgICAgICAgICAgICAge3RpZXIgPT09ICJnb29kIiAmJiAiS2VlcCBnb2luZyEifQogICAgICAgICAgICAgIHt0aWVyID09PSAiZ3JlYXQiICYmICJBbG1vc3QgdGhlcmUhIn0KICAgICAgICAgICAgICB7dGllciA9PT0gImV4Y2VsbGVudCIgJiYgIlBlcmZlY3QhIn0KICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9InRleHQteHMgZm9udC1tZWRpdW0iPntjb21wbGV0ZWRJdGVtcy5sZW5ndGh9IGl0ZW1zIGNvbXBsZXRlZDwvc3Bhbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICB7LyogTWlzc2luZyBJdGVtcyAtIFRvcCBQcmlvcml0eSAqL30KICAgICAgICB7bWlzc2luZ0l0ZW1zLmxlbmd0aCA+IDAgJiYgKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InNwYWNlLXktMyI+CiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9ImZvbnQtc2VtaWJvbGQgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiI+CiAgICAgICAgICAgICAgPHNwYW4+Q29tcGxldGUgWW91ciBQcm9maWxlPC9zcGFuPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0idGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9udC1ub3JtYWwiPgogICAgICAgICAgICAgICAgKCt7bWlzc2luZ0l0ZW1zLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyBpdGVtLnBvaW50cywgMCl9IHBvaW50cykKICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDwvaDQ+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJzcGFjZS15LTIiPgogICAgICAgICAgICAgIHttaXNzaW5nSXRlbXMuc2xpY2UoMCwgc2hvd0RldGFpbHMgPyB1bmRlZmluZWQgOiA1KS5tYXAoKGl0ZW0sIGlkeCkgPT4gKAogICAgICAgICAgICAgICAgPGRpdgogICAgICAgICAgICAgICAgICBrZXk9e2lkeH0KICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zIHAtMyByb3VuZGVkLWxnIGJnLW11dGVkLzUwIGhvdmVyOmJnLW11dGVkIHRyYW5zaXRpb24tY29sb3JzIgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICAgICAgICA8Q2lyY2xlIGNsYXNzTmFtZT0idy00IGgtNCBtdC0wLjUgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZsZXgtc2hyaW5rLTAiIC8+CiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgbWluLXctMCI+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIj57aXRlbS5pdGVtfTwvcD4KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTAuNSI+e2l0ZW0uc3VnZ2VzdGlvbn08L3A+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0idGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtcHJpbWFyeSI+K3tpdGVtLnBvaW50c308L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICkpfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAge21pc3NpbmdJdGVtcy5sZW5ndGggPiA1ICYmICgKICAgICAgICAgICAgICA8QnV0dG9uCiAgICAgICAgICAgICAgICB2YXJpYW50PSJnaG9zdCIKICAgICAgICAgICAgICAgIHNpemU9InNtIgogICAgICAgICAgICAgICAgY2xhc3NOYW1lPSJ3LWZ1bGwiCiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RGV0YWlscyghc2hvd0RldGFpbHMpfQogICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIHtzaG93RGV0YWlscyA/ICJTaG93IGxlc3MiIDogYFNob3cgJHttaXNzaW5nSXRlbXMubGVuZ3RoIC0gNX0gbW9yZWB9CiAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT17YHctNCBoLTQgbWwtMiB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke3Nob3dEZXRhaWxzID8gInJvdGF0ZS05MCIgOiAiIn1gfSAvPgogICAgICAgICAgICAgIDwvQnV0dG9uPgogICAgICAgICAgICApfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgKX0KCiAgICAgICAgey8qIENvbXBsZXRlZCBJdGVtcyAqL30KICAgICAgICB7Y29tcGxldGVkSXRlbXMubGVuZ3RoID4gMCAmJiBzaG93RGV0YWlscyAmJiAoCiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0zIj4KICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT0iZm9udC1zZW1pYm9sZCB0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDAiPgogICAgICAgICAgICAgIOKckyBDb21wbGV0ZWQgKHtjb21wbGV0ZWRJdGVtcy5sZW5ndGh9KQogICAgICAgICAgICA8L2g0PgogICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ic3BhY2UteS0xIj4KICAgICAgICAgICAgICB7Y29tcGxldGVkSXRlbXMubWFwKChpdGVtLCBpZHgpID0+ICgKICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpZHh9IGNsYXNzTmFtZT0iZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQiPgogICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUyIGNsYXNzTmFtZT0idy0zIGgtMyB0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIiAvPgogICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9ImNhcGl0YWxpemUiPntpdGVtLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpLnRyaW0oKX08L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQoKICAgICAgICB7LyogQ2FsbCB0byBBY3Rpb24gKi99CiAgICAgICAge3BlcmNlbnRhZ2UgPCAxMDAgJiYgKAogICAgICAgICAgPGRpdiBjbGFzc05hbWU9InB0LTQgYm9yZGVyLXQiPgogICAgICAgICAgICA8TGluayB0bz0iL3Byb2ZpbGUtc2V0dXAiPgogICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPSJ3LWZ1bGwiIHNpemU9ImxnIj4KICAgICAgICAgICAgICAgIENvbXBsZXRlIFByb2ZpbGUKICAgICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPSJ3LTQgaC00IG1sLTIiIC8+CiAgICAgICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgICAgIDwvTGluaz4KICAgICAgICAgICAgPHAgY2xhc3NOYW1lPSJ0ZXh0LXhzIHRleHQtY2VudGVyIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0yIj4KICAgICAgICAgICAgICBDb21wbGV0ZSBwcm9maWxlcyBnZXQgPHN0cm9uZz4xMHggbW9yZSBtYXRjaGVzITwvc3Ryb25nPgogICAgICAgICAgICA8L3A+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICApfQoKICAgICAgICB7cGVyY2VudGFnZSA9PT0gMTAwICYmICgKICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJ0ZXh0LWNlbnRlciBweS00IGJnLWdyZWVuLTUwIGRhcms6YmctZ3JlZW4tOTUwLzMwIHJvdW5kZWQtbGciPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIj4KICAgICAgICAgICAgICDwn46JIFBlcmZlY3QgUHJvZmlsZSEKICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8cCBjbGFzc05hbWU9InRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTEiPgogICAgICAgICAgICAgIFlvdSdyZSBhbGwgc2V0IHRvIGZpbmQgYW1hemluZyBtYXRjaGVzCiAgICAgICAgICAgIDwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICl9CiAgICAgIDwvQ2FyZENvbnRlbnQ+CiAgICA8L0NhcmQ+CiAgKTsKfQoKZnVuY3Rpb24gZ2V0Q29sb3JGcm9tVGllcih0aWVyOiBzdHJpbmcpOiBzdHJpbmcgewogIHN3aXRjaCAodGllcikgewogICAgY2FzZSAiaW5jb21wbGV0ZSI6CiAgICAgIHJldHVybiAiI2VmNDQ0NCI7IC8vIHJlZAogICAgY2FzZSAiYmFzaWMiOgogICAgICByZXR1cm4gIiNmOTczMTYiOyAvLyBvcmFuZ2UKICAgIGNhc2UgImdvb2QiOgogICAgICByZXR1cm4gIiNlYWIzMDgiOyAvLyB5ZWxsb3cKICAgIGNhc2UgImdyZWF0IjoKICAgICAgcmV0dXJuICIjM2I4MmY2IjsgLy8gYmx1ZQogICAgY2FzZSAiZXhjZWxsZW50IjoKICAgICAgcmV0dXJuICIjMjJjNTVlIjsgLy8gZ3JlZW4KICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAiIzZiNzI4MCI7IC8vIGdyYXkKICB9Cn0K"}