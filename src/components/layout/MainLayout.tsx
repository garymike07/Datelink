{"data":"aW1wb3J0IHsgU2lkZWJhclByb3ZpZGVyLCBTaWRlYmFySW5zZXQgfSBmcm9tICJAL2NvbXBvbmVudHMvdWkvc2lkZWJhciI7CmltcG9ydCB7IEFwcFNpZGViYXIgfSBmcm9tICIuL0FwcFNpZGViYXIiOwppbXBvcnQgeyBPdXRsZXQsIHVzZUxvY2F0aW9uIH0gZnJvbSAicmVhY3Qtcm91dGVyLWRvbSI7CmltcG9ydCBCb3R0b21OYXYgZnJvbSAiQC9jb21wb25lbnRzL0JvdHRvbU5hdiI7CmltcG9ydCBQYWdlSGVhZGVyIGZyb20gIi4vUGFnZUhlYWRlciI7CmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICJAL2NvbnRleHRzL0F1dGhDb250ZXh0IjsKaW1wb3J0IHsgbGF6eSwgU3VzcGVuc2UsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICJyZWFjdCI7Cgpjb25zdCBQdXNoTm90aWZpY2F0aW9uTWFuYWdlciA9IGxhenkoYXN5bmMgKCkgPT4gewogICAgY29uc3QgbW9kID0gYXdhaXQgaW1wb3J0KCJAL2NvbXBvbmVudHMvbm90aWZpY2F0aW9ucy9QdXNoTm90aWZpY2F0aW9uTWFuYWdlciIpOwogICAgcmV0dXJuIHsgZGVmYXVsdDogbW9kLlB1c2hOb3RpZmljYXRpb25NYW5hZ2VyIH07Cn0pOwpjb25zdCBOb3RpZmljYXRpb25Ub2FzdCA9IGxhenkoKCkgPT4gaW1wb3J0KCJAL2NvbXBvbmVudHMvbm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb25Ub2FzdCIpKTsKY29uc3QgUHVzaFBlcm1pc3Npb25Qcm9tcHQgPSBsYXp5KGFzeW5jICgpID0+IHsKICAgIGNvbnN0IG1vZCA9IGF3YWl0IGltcG9ydCgiQC9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvUHVzaFBlcm1pc3Npb25Qcm9tcHQiKTsKICAgIHJldHVybiB7IGRlZmF1bHQ6IG1vZC5QdXNoUGVybWlzc2lvblByb21wdCB9Owp9KTsKCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1haW5MYXlvdXQoKSB7CiAgICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7CiAgICBjb25zdCBoaWRlSGVhZGVyID0gbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgiL2NoYXQvIik7CiAgICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTsKICAgIGNvbnN0IHVzZXJJZCA9IHVzZXI/Ll9pZCA/PyBudWxsOwogICAgY29uc3QgW2VuYWJsZVJlYWx0aW1lVUksIHNldEVuYWJsZVJlYWx0aW1lVUldID0gdXNlU3RhdGUoZmFsc2UpOwoKICAgIHVzZUVmZmVjdCgoKSA9PiB7CiAgICAgICAgaWYgKCF1c2VySWQpIHsKICAgICAgICAgICAgc2V0RW5hYmxlUmVhbHRpbWVVSShmYWxzZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGhhbmRsZUludGVyYWN0aW9uID0gKCkgPT4gewogICAgICAgICAgICBzZXRFbmFibGVSZWFsdGltZVVJKHRydWUpOwogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCBoYW5kbGVJbnRlcmFjdGlvbik7CiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgaGFuZGxlSW50ZXJhY3Rpb24pOwogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hzdGFydCIsIGhhbmRsZUludGVyYWN0aW9uKTsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLCBoYW5kbGVJbnRlcmFjdGlvbik7CiAgICAgICAgfTsKCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgaGFuZGxlSW50ZXJhY3Rpb24sIHsgb25jZTogdHJ1ZSB9KTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUludGVyYWN0aW9uLCB7IG9uY2U6IHRydWUgfSk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBoYW5kbGVJbnRlcmFjdGlvbiwgeyBvbmNlOiB0cnVlIH0pOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgaGFuZGxlSW50ZXJhY3Rpb24sIHsgb25jZTogdHJ1ZSB9KTsKCiAgICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgaGFuZGxlSW50ZXJhY3Rpb24pOwogICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGhhbmRsZUludGVyYWN0aW9uKTsKICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBoYW5kbGVJbnRlcmFjdGlvbik7CiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgaGFuZGxlSW50ZXJhY3Rpb24pOwogICAgICAgIH07CiAgICB9LCBbdXNlcklkXSk7CgogICAgY29uc3QgcmVhbHRpbWVGYWxsYmFjayA9IHVzZU1lbW8oKCkgPT4gbnVsbCwgW10pOwoKICAgIHJldHVybiAoCiAgICAgICAgPFNpZGViYXJQcm92aWRlcj4KICAgICAgICAgICAgPEFwcFNpZGViYXIgLz4KICAgICAgICAgICAgPFNpZGViYXJJbnNldCBjbGFzc05hbWU9ImJnLWJhY2tncm91bmQgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2wiPgogICAgICAgICAgICAgICAgeyFoaWRlSGVhZGVyICYmIDxQYWdlSGVhZGVyIC8+fQoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIHJlbGF0aXZlIHctZnVsbCBoLWZ1bGwiPgogICAgICAgICAgICAgICAgICAgIHsvKiBCYWNrZ3JvdW5kIEdyYWRpZW50ICovfQogICAgICAgICAgICAgICAgICAgIHsvKiBCYWNrZ3JvdW5kIEdyYWRpZW50IC0gUHJlbWl1bSBTdWJ0bGUgR2xvdyAqL30KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZml4ZWQgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lIGJnLVtyYWRpYWwtZ3JhZGllbnQoZWxsaXBzZV9hdF90b3BfcmlnaHQsX3ZhcigtLXR3LWdyYWRpZW50LXN0b3BzKSldIGZyb20tcHJpbWFyeS8xMCB2aWEtYmFja2dyb3VuZCB0by1iYWNrZ3JvdW5kIC16LTEwIiAvPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJmaXhlZCB0b3AtMCBsZWZ0LTAgdy1mdWxsIGgtWzUwMHB4XSBiZy1ncmFkaWVudC10by1iIGZyb20tbG92ZS1taXN0LzMwIHRvLXRyYW5zcGFyZW50IHBvaW50ZXItZXZlbnRzLW5vbmUgLXotMTAgb3BhY2l0eS02MCIgLz4KCiAgICAgICAgICAgICAgICAgICAgPG1haW4gY2xhc3NOYW1lPSJ3LWZ1bGwgbWF4LXctN3hsIG14LWF1dG8gcHgtMiBzbTpweC00IG1kOnB4LTYgcHktMiBzbTpweS00IG1kOnB5LTYgcGItMjAgbWQ6cGItNiBhbmltYXRlLWZhZGUtaW4iPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0iZ2xhc3Mtc3VyZmFjZSByb3VuZGVkLTN4bCBwLTMgc206cC00IG1kOnAtNiBzaGFkb3ctZ2xhc3Mtc20iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPE91dGxldCAvPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L21haW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICB7LyogTW9iaWxlIEJvdHRvbSBOYXYgKi99CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibWQ6aGlkZGVuIj4KICAgICAgICAgICAgICAgICAgICA8Qm90dG9tTmF2IC8+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICB7dXNlcklkICYmIGVuYWJsZVJlYWx0aW1lVUkgJiYgKAogICAgICAgICAgICAgICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17cmVhbHRpbWVGYWxsYmFja30+CiAgICAgICAgICAgICAgICAgICAgICAgIDxQdXNoTm90aWZpY2F0aW9uTWFuYWdlciAvPgogICAgICAgICAgICAgICAgICAgICAgICB7LyogUmVhbC10aW1lIFRvYXN0IE5vdGlmaWNhdGlvbnMgKi99CiAgICAgICAgICAgICAgICAgICAgICAgIDxOb3RpZmljYXRpb25Ub2FzdCB1c2VySWQ9e3VzZXJJZH0gLz4KICAgICAgICAgICAgICAgICAgICAgICAgey8qIFBoYXNlIDM6IFB1c2ggTm90aWZpY2F0aW9uIFBlcm1pc3Npb24gUHJvbXB0ICovfQogICAgICAgICAgICAgICAgICAgICAgICA8UHVzaFBlcm1pc3Npb25Qcm9tcHQgYXV0b1Nob3c9e3RydWV9IHNob3dPbmx5SWZOb3RHcmFudGVkPXt0cnVlfSAvPgogICAgICAgICAgICAgICAgICAgIDwvU3VzcGVuc2U+CiAgICAgICAgICAgICAgICApfQogICAgICAgICAgICA8L1NpZGViYXJJbnNldD4KICAgICAgICA8L1NpZGViYXJQcm92aWRlcj4KICAgICk7Cn0K"}