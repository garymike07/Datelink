{"data":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICA8dGl0bGU+Rm9yY2UgQ2xlYXIgU2VydmljZSBXb3JrZXIgJiBDYWNoZTwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgbWF4LXdpZHRoOiA3MDBweDsKICAgICAgICAgICAgbWFyZ2luOiA1MHB4IGF1dG87CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgIH0KICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMjBweCA2MHB4IHJnYmEoMCwwLDAsMC4zKTsKICAgICAgICB9CiAgICAgICAgaDEgewogICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAyOHB4OwogICAgICAgIH0KICAgICAgICAuc3VidGl0bGUgewogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIH0KICAgICAgICBidXR0b24gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogMTRweCAyOHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBtYXJnaW46IDhweCA0cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KTsKICAgICAgICB9CiAgICAgICAgYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzU1NjhkMzsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDZweCAxNnB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC41KTsKICAgICAgICB9CiAgICAgICAgYnV0dG9uLmRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlNzRjM2M7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbi5kYW5nZXI6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjYzAzOTJiOwogICAgICAgIH0KICAgICAgICAuc3RhdHVzIHsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS42OwogICAgICAgIH0KICAgICAgICAuc3RhdHVzLnN1Y2Nlc3MgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZDRlZGRhOwogICAgICAgICAgICBjb2xvcjogIzE1NTcyNDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2MzZTZjYjsKICAgICAgICB9CiAgICAgICAgLnN0YXR1cy5lcnJvciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGQ3ZGE7CiAgICAgICAgICAgIGNvbG9yOiAjNzIxYzI0OwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZjVjNmNiOwogICAgICAgIH0KICAgICAgICAuc3RhdHVzLmluZm8gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZDFlY2YxOwogICAgICAgICAgICBjb2xvcjogIzBjNTQ2MDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2JlZTVlYjsKICAgICAgICB9CiAgICAgICAgLnN0ZXAtbGlzdCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7CiAgICAgICAgfQogICAgICAgIC5zdGVwLWxpc3QgbGkgewogICAgICAgICAgICBtYXJnaW46IDEycHggMDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjsKICAgICAgICB9CiAgICAgICAgLnByb2dyZXNzIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogNnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZTllY2VmOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIG1hcmdpbjogMjBweCAwOwogICAgICAgIH0KICAgICAgICAucHJvZ3Jlc3MtYmFyIHsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjY3ZWVhOwogICAgICAgICAgICB3aWR0aDogMCU7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgPGgxPvCfp7kgRm9yY2UgQ2xlYXIgRXZlcnl0aGluZzwvaDE+CiAgICAgICAgPHAgY2xhc3M9InN1YnRpdGxlIj5UaGlzIHRvb2wgd2lsbCBjb21wbGV0ZWx5IHJlc2V0IHlvdXIgc2VydmljZSB3b3JrZXJzIGFuZCBjYWNoZSB0byBmaXggcHVzaCBub3RpZmljYXRpb24gaXNzdWVzPC9wPgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9InN0ZXAtbGlzdCI+CiAgICAgICAgICAgIDxzdHJvbmc+V2hhdCB0aGlzIHdpbGwgZG86PC9zdHJvbmc+CiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgIDxsaT7inIUgVW5yZWdpc3RlciBhbGwgc2VydmljZSB3b3JrZXJzPC9saT4KICAgICAgICAgICAgICAgIDxsaT7inIUgQ2xlYXIgYWxsIGNhY2hlIHN0b3JhZ2U8L2xpPgogICAgICAgICAgICAgICAgPGxpPuKchSBDbGVhciBsb2NhbFN0b3JhZ2UgYW5kIHNlc3Npb25TdG9yYWdlPC9saT4KICAgICAgICAgICAgICAgIDxsaT7inIUgQ2xlYXIgSW5kZXhlZERCPC9saT4KICAgICAgICAgICAgICAgIDxsaT7inIUgUmVtb3ZlIGFsbCBwdXNoIHN1YnNjcmlwdGlvbnM8L2xpPgogICAgICAgICAgICA8L3VsPgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9InN0YXR1cyI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icHJvZ3Jlc3MiIGlkPSJwcm9ncmVzc0NvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwcm9ncmVzcy1iYXIiIGlkPSJwcm9ncmVzc0JhciI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsiPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNsZWFyRXZlcnl0aGluZygpIiBzdHlsZT0iZm9udC1zaXplOiAxOHB4OyBwYWRkaW5nOiAxNnB4IDMycHg7Ij4KICAgICAgICAgICAgICAgIPCfmoAgQ2xlYXIgRXZlcnl0aGluZyAmIFJlc2V0CiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImNoZWNrU3RhdHVzKCkiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjMTdhMmI4OyI+CiAgICAgICAgICAgICAgICDwn5SNIENoZWNrIEN1cnJlbnQgU3RhdHVzCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPHNjcmlwdD4KICAgICAgICBmdW5jdGlvbiBzaG93U3RhdHVzKG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycpIHsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpOwogICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgZGl2LmNsYXNzTmFtZSA9IGBzdGF0dXMgJHt0eXBlfWA7CiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBtZXNzYWdlOwogICAgICAgICAgICBzdGF0dXNEaXYuYXBwZW5kQ2hpbGQoZGl2KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyU3RhdHVzKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJykuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhwZXJjZW50KSB7CiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzQ29udGFpbmVyJyk7CiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzQmFyJyk7CiAgICAgICAgICAgIHByb2dyZXNzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICBwcm9ncmVzc0Jhci5zdHlsZS53aWR0aCA9IHBlcmNlbnQgKyAnJSc7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiBjbGVhckV2ZXJ5dGhpbmcoKSB7CiAgICAgICAgICAgIGNsZWFyU3RhdHVzKCk7CiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDApOwogICAgICAgICAgICAKICAgICAgICAgICAgc2hvd1N0YXR1cygn8J+agCBTdGFydGluZyBjb21wbGV0ZSBjbGVhbnVwLi4uJywgJ2luZm8nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyBTdGVwIDE6IFVucmVnaXN0ZXIgYWxsIHNlcnZpY2Ugd29ya2VycwogICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMjApOwogICAgICAgICAgICAgICAgc2hvd1N0YXR1cygnU3RlcCAxLzU6IFVucmVnaXN0ZXJpbmcgc2VydmljZSB3b3JrZXJzLi4uJywgJ2luZm8nKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25zID0gYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHJlZ2lzdHJhdGlvbiBvZiByZWdpc3RyYXRpb25zKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoYOKchSBVbnJlZ2lzdGVyZWQgc2VydmljZSB3b3JrZXI6ICR7cmVnaXN0cmF0aW9uLnNjb3BlfWAsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCfimqDvuI8gIFNlcnZpY2UgV29ya2VyIG5vdCBzdXBwb3J0ZWQnLCAnaW5mbycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBTdGVwIDI6IENsZWFyIGFsbCBjYWNoZXMKICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDQwKTsKICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoJ1N0ZXAgMi81OiBDbGVhcmluZyBjYWNoZSBzdG9yYWdlLi4uJywgJ2luZm8nKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKCdjYWNoZXMnIGluIHdpbmRvdykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlTmFtZXMgPSBhd2FpdCBjYWNoZXMua2V5cygpOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNhY2hlTmFtZSBvZiBjYWNoZU5hbWVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1cyhg4pyFIENsZWFyZWQgY2FjaGU6ICR7Y2FjaGVOYW1lfWAsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCfimqDvuI8gIENhY2hlIEFQSSBub3Qgc3VwcG9ydGVkJywgJ2luZm8nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU3RlcCAzOiBDbGVhciBzdG9yYWdlCiAgICAgICAgICAgICAgICB1cGRhdGVQcm9ncmVzcyg2MCk7CiAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCdTdGVwIDMvNTogQ2xlYXJpbmcgbG9jYWxTdG9yYWdlIGFuZCBzZXNzaW9uU3RvcmFnZS4uLicsICdpbmZvJyk7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCfinIUgQ2xlYXJlZCBsb2NhbFN0b3JhZ2UgYW5kIHNlc3Npb25TdG9yYWdlJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU3RlcCA0OiBDbGVhciBJbmRleGVkREIKICAgICAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzKDgwKTsKICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoJ1N0ZXAgNC81OiBDbGVhcmluZyBJbmRleGVkREIuLi4nLCAnaW5mbycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoJ2luZGV4ZWREQicgaW4gd2luZG93KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YWJhc2VzID0gYXdhaXQgaW5kZXhlZERCLmRhdGFiYXNlcygpOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGRiIG9mIGRhdGFiYXNlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGIubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoYOKchSBDbGVhcmVkIGRhdGFiYXNlOiAke2RiLm5hbWV9YCwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFN0ZXAgNTogRG9uZQogICAgICAgICAgICAgICAgdXBkYXRlUHJvZ3Jlc3MoMTAwKTsKICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoJ1N0ZXAgNS81OiBDbGVhbnVwIGNvbXBsZXRlIScsICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICBzaG93U3RhdHVzKCc8c3Ryb25nPvCfjokgRXZlcnl0aGluZyBjbGVhcmVkIHN1Y2Nlc3NmdWxseSE8L3N0cm9uZz48YnI+PGJyPk5vdzo8YnI+MS4gQ2xvc2UgdGhpcyB0YWI8YnI+Mi4gQ2xvc2UgQUxMIGJyb3dzZXIgdGFicyBmb3IgeW91ciBhcHA8YnI+My4gUmVvcGVuIHlvdXIgYXBwPGJyPjQuIFRyeSBwdXNoIG5vdGlmaWNhdGlvbnMgYWdhaW4nLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBPZmZlciB0byByZWxvYWQgYWZ0ZXIgMyBzZWNvbmRzCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgnQ2xlYW51cCBjb21wbGV0ZSEgQ2xvc2UgdGhpcyB0YWIgYW5kIHJlb3BlbiB5b3VyIGFwcD8nKSkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgc2hvd1N0YXR1cyhg4p2MIEVycm9yIGR1cmluZyBjbGVhbnVwOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGVhbnVwIGVycm9yOicsIGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY2hlY2tTdGF0dXMoKSB7CiAgICAgICAgICAgIGNsZWFyU3RhdHVzKCk7CiAgICAgICAgICAgIHNob3dTdGF0dXMoJ/CflI0gQ2hlY2tpbmcgY3VycmVudCBzdGF0dXMuLi4nLCAnaW5mbycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgc2VydmljZSB3b3JrZXJzCiAgICAgICAgICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7CiAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25zID0gYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpOwogICAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoYPCfk4sgRm91bmQgJHtyZWdpc3RyYXRpb25zLmxlbmd0aH0gc2VydmljZSB3b3JrZXIocyk6YCwgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25zLmZvckVhY2gocmVnID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1cyhgICAgLSBTY29wZTogJHtyZWcuc2NvcGV9YCwgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2hvd1N0YXR1cygn4pyFIE5vIHNlcnZpY2Ugd29ya2VycyByZWdpc3RlcmVkJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgY2FjaGVzCiAgICAgICAgICAgIGlmICgnY2FjaGVzJyBpbiB3aW5kb3cpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlTmFtZXMgPSBhd2FpdCBjYWNoZXMua2V5cygpOwogICAgICAgICAgICAgICAgaWYgKGNhY2hlTmFtZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoYPCfk6YgRm91bmQgJHtjYWNoZU5hbWVzLmxlbmd0aH0gY2FjaGUocyk6YCwgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgICBjYWNoZU5hbWVzLmZvckVhY2gobmFtZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoYCAgIC0gJHtuYW1lfWAsICdpbmZvJyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoJ+KchSBObyBjYWNoZXMgZm91bmQnLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBDaGVjayBzdG9yYWdlCiAgICAgICAgICAgIGNvbnN0IGxvY2FsU3RvcmFnZVNpemUgPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmxlbmd0aDsKICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblN0b3JhZ2VTaXplID0gT2JqZWN0LmtleXMoc2Vzc2lvblN0b3JhZ2UpLmxlbmd0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2VTaXplID4gMCB8fCBzZXNzaW9uU3RvcmFnZVNpemUgPiAwKSB7CiAgICAgICAgICAgICAgICBzaG93U3RhdHVzKGDwn5K+IFN0b3JhZ2U6IGxvY2FsU3RvcmFnZSAoJHtsb2NhbFN0b3JhZ2VTaXplfSBpdGVtcyksIHNlc3Npb25TdG9yYWdlICgke3Nlc3Npb25TdG9yYWdlU2l6ZX0gaXRlbXMpYCwgJ2luZm8nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dTdGF0dXMoJ+KchSBTdG9yYWdlIGlzIGVtcHR5JywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gQ2hlY2sgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24KICAgICAgICAgICAgaWYgKCdOb3RpZmljYXRpb24nIGluIHdpbmRvdykgewogICAgICAgICAgICAgICAgc2hvd1N0YXR1cyhg8J+UlCBOb3RpZmljYXRpb24gcGVybWlzc2lvbjogJHtOb3RpZmljYXRpb24ucGVybWlzc2lvbn1gLCAnaW5mbycpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="}